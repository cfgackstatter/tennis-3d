<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>3D Tennis Court Simulator</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
    <!-- Include Three.js library -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r132/three.min.js"></script>
    <!-- Include OrbitControls for camera manipulation -->
    <script src="https://cdn.jsdelivr.net/npm/three@0.128.0/examples/js/controls/OrbitControls.min.js"></script>
</head>
<body>
    <header>
        <h1>3D Tennis Court Simulator</h1>
    </header>

    <div id="scene-container">
        <!-- The 3D scene will be rendered here -->
    </div>

    <div id="control-panel">
        <div class="panel-header">
            <h3>Controls</h3>
            <button id="toggle-panel" title="Expand/Collapse panel">≡</button>
        </div>
        
        <div class="panel-content">
            <div class="control-section">
                <h4>Ball Placement</h4>
                <div class="input-group">
                    <label for="baseline-position" title="Position along baseline (-: right, +: left of center)">Baseline:</label>
                    <input type="number" id="baseline-position" step="0.1" value="-1">
                </div>
                
                <div class="input-group">
                    <label for="distance-from-baseline" title="Distance from baseline into the court">Distance:</label>
                    <input type="number" id="distance-from-baseline" min="0" step="0.1" value="0.3">
                </div>
                
                <div class="input-group">
                    <label for="ball-height" title="Height above ground">Height:</label>
                    <input type="number" id="ball-height" min="0" step="0.1" value="3">
                </div>
            </div>

            <div class="control-section">
                <h4>Ball Physics</h4>
                <div class="input-group">
                    <label for="initial-speed" title="Initial ball speed in km/h (160-230 for pro first serve)">Speed:</label>
                    <input type="number" id="initial-speed" min="20" max="260" step="1" value="160">
                </div>
                
                <div class="input-group">
                    <label for="launch-angle" title="Vertical launch angle in degrees (-45-45)">V-Angle:</label>
                    <input type="number" id="launch-angle" min="-45" max="45" step="1" value="-5">
                </div>

                <div class="input-group">
                    <label for="horizontal-angle" title="Horizontal launch angle in degrees (0=straight ahead, -=left, +=right)">H-Angle:</label>
                    <input type="number" id="horizontal-angle" min="-45" max="45" step="1" value="10">
                </div>
                
                <div class="input-group">
                    <label for="spin-rate" title="Ball spin in RPM (1000-5000 for typical pro spin)">Spin:</label>
                    <input type="number" id="spin-rate" min="0" max="5000" step="100" value="1800">
                </div>
                
                <div class="input-group">
                    <label for="spin-axis" title="Spin axis tilt in degrees (0/180=sidespin, 90=topspin)">Spin Axis:</label>
                    <input type="number" id="spin-axis" min="0" max="180" step="5" value="15">
                </div>
            </div>
        </div>
    </div>
    
    <div id="instructions">
        <p><strong>Camera:</strong> Click and drag to rotate. Scroll to zoom.</p>
        <p><strong>Court Size:</strong> 23.77m × 10.97m</p>
    </div>

    <div id="net-clearance-box">
        <div class="clearance-title">NET CLEARANCE</div>
        <div id="clearance-value">0.00 m</div>
    </div>
    
    <!-- Include our tennis court script -->
    <script src="{{ url_for('static', filename='js/tennis_court.js') }}"></script>
</body>
</html>